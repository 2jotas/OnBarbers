1. $ express
2. $ npm install

3. //crear el archivo Procfile con la línea:
web: npm start 

4. Modificar el package.json y agregar engines con las versiones de node y npm

5. mapear las urls con las screens que va a tener la app

Collections   |             Screen            |    URL path
--------------|-------------------------------|-------------------
Lugares       |Lista de lugares (homepage)    |  /
Lugares       |Detalles del lugar             |  /lugar
Lugares       |Formulario de notas del lugar  |  /lugar/notas/nueva
Otros         |Acerca de OnBarbers            |  /acercade

6. Cambiar la estructura de directorios para cambiar un poco el modelo MVC:
  -crear en la raíz un dir app_server/
  -mover los dirs routes/ y views/ dentro de app_server/
  -crear dentro de app_server/ dos dirs llamados: models/ y controllers/

//Con los cambios de dirs, hay que modificar unas líneas de código para que
//express entienda cómo va a funcionar:

7. Modificar app_server/routes/index.js para crear dos controladores nuevos:
  -lugares.js
  -otros.js

  El archivo /app.js debe contener l nueva ubicación de app_server/routes/index.js y
  users.js ubicado en el mismo dir de routes/ por eso se debe modificar las líneas
  de código que tengan esto:
  var index = require('./app_server/routes/index');
  var users = require('./app_server/routes/users');
  app.set('views', path.join(__dirname, 'app_server', 'views'));

8. El archivo app_server/routes/index.js también deberá tener las routes a las
cuatro pantallas de la tabla anterior; agregar el código:

/* Locations pages */
router.get('/', ctrlLocations.homelist);
router.get('/location', ctrlLocations.locationInfo);
router.get('/location/review/new', ctrlLocations.addReview);

/* Other pages */
router.get('/about', ctrlOthers.about);

9. Crear un archivo llamado app_server/controllers/otros.js que deberá tener
el siguiente código:

/* GET 'acerca de' page */
module.exports.acercade = function(req, res){
  res.render('index', { title: 'Acerca de' });
};

10. El punto anterior creo el controlador otros.js para la colección "Otros" y como son dos colecciones, debe haber otro archivo llamado lugares.js que contenga las
instrucciones:

/* GET 'inicio' page */
module.exports.inicioLista = function(req, res){
  res.render('index', { title: 'Inicio' });
};

/* GET 'info del lugar' page */
module.exports.infoLugar = function(req, res){
  res.render('index', { title: 'Notas del sitio' });
};

/* GET 'agregar una nota del sitio' page */
module.exports.addNota = function(req, res){
  res.render('index', { title: 'Agregar una nota' });
};

11. Si todo ha salido bien, en la raíz de BarbersOn iniciar el nodemon y probar las
siguientes urls:

y se abren 4 urls:
localhost:3000/acercade
localhost:3000/
localhost:3000/lugar
localhost:3000/lugar/notas/nueva


---------------------------------------------------------------------
---------------------- Modificando Views-----------------------------
Es muy importante la identación en jade

En la carpeta public, pegar el bootstrap y el amelia.bootstrap para referenciarlos
en layout.jade. El jQuery iría dentro de javascripts.

El archivo public/stylesheets/style debe ir en blanco y se hace copia del que
había.

1. Modificar el archivo app_server/views/layout.jade y agregar un meta
justo debajo del head, también agregar los enlaces a bootstrap amelia:

    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    link(rel='stylesheet', href='/bootstrap/css/amelia.bootstrap.min.css')
    link(rel='stylesheet', href='/stylesheets/style.css')

*Justo debajo del body, identado, va lo siguiente:

body
  .navbar.navbar-default.navbar-fixed-top
      .container
        .navbar-header
          a.navbar-brand(href='/') Loc8r
          button.navbar-toggle(type='button', data-toggle='collapse', data-target='#navbar-main')
            span.icon-bar
            span.icon-bar
            span.icon-bar
        #navbar-main.navbar-collapse.collapse
          ul.nav.navbar-nav
            li
               a(href='/about/') About
    .container
      block content

*Justo debajo del block content, identado dentro de, va el footer y la referencia
a los scripts:

footer
        .row
          .col-xs-12

            small &copy; imon Holmes 2014
    script(src='/javascripts/jquery-1.12.4.min.js')
    script(src='/bootstrap/js/bootstrap.min.js')

-----------------------------------------------------------------
------------------------ Página Inicio---------------------------

Lo quedebe mostrar la página de inicio es una lista de lugares, cada lugar deberá
tener:

*nombre
*dirección
*distancia
*notas
*detalles

-------------------------
Navigation bar
-------------------------
Header
-------------------------
Nombre * *         7km
Dirección
Detalles
-------------------------
Nombre * *         17km
Dirección
Detalles
-------------------------
Footer
-------------------------

1. Configurando la view y el controlador

crear un nuevo archivo y linkearlo al controlador en app_server/views hacer
una copia de index.jade view y guardarla con el nombre lista-lugares.jade

2. Hay que decirle al controller que la p+agina de inicio usará esta nueva
view, el controller de la página de inicio está en app_server/lugares.js y debe
quedar apuntando a la view lista-lugares:

module.exports.inicioLista = function(req, res){
  res.render('lista-lugares', { title: 'Inicio' });
};

3. Ahora hay que agregar el código... en el archivo lista-lugares.jade

4. Las próximas pantallas a codear, serán:

"Detalles"

*Nombre
*Dirección
*Rating
*Horario
*Características
*Ubicación en el mapa

"Notas"
*Rating
*Nombre del usuario
*Fecha de la nota
*Texto
-Botón para agregar la nueva nota
-Texto para insertar en el contexto de la página

5. Cambiar la línea de código en app_server/controllers/lugares.js en la que
va la vista para que quede así:
/* GET 'info del lugar' page */
module.exports.infoLugar = function(req, res){
  res.render('info-lugar', { title: 'Notas del sitio' });
};

6. Insertar el código en el archivo info-lugar.jade

extends layout

block content
  //inicioheader
  .row.page-header
    .col-lg-12
      h1 Schorem Barber Shop
  //fin Header
  .row
    .col-xs-12.col-md-9
      .row
        .col-xs-12.col-sm-6
          p.rating
            span.glyphicon.glyphicon-star
            span.glyphicon.glyphicon-star
            span.glyphicon.glyphicon-star
            span.glyphicon.glyphicon-star-empty
            span.glyphicon.glyphicon-star-empty
          p Cra 44 # 14 - 100, Revistas, Juegos
          p Whatsapp: 310 6893155
          .panel.panel-primary
            .panel-heading
              h2.panel-title Horario atención
            .panel-body
              p Lunes - Viernes : 10:00AM - 8:00PM
              p Sábados y Domingos: 9:00AM - 10:00PM
          .panel.panel-primary
            .panel-heading
              h2.panel-title Comodidad
            .panel-body
              span.label.label-warning
                span.glyphicon.glyphicon-ok
                | &nbsp; Aire acondicionado
              | &nbsp;
              span.label.label-warning
                span.glyphicon.glyphicon-ok
                | &nbsp; WiFi
              | &nbsp;
              span.label.label-warning
                span.glyphicon.glyphicon-ok
                | &nbsp; Juegos
              | &nbsp;
        .col-xs-12.col-sm-6.location-map
          .panel.panel-primary
            .panel-heading
              h2.panel-title Ubicación en el mapa
            .panel-body
              img.img-responsive.img-rounded(src='http://maps.googleapis.com/maps/api/staticmap?center=51.455041,-0.9690884&zoom=17&size=400x350&sensor=false&markers=51.455041,-0.9690884&scale=2')
      .row
        .col-xs-12
          .panel.panel-primary.review-panel
            .panel-heading
              a.btn.btn-default.pull-right(href='/lugar/notas/nueva') Agregar notas
              h2.panel-title Comentarios
            .panel-body.review-container
              .row
                .review
                  .well.well-sm.review-header
                    span.rating
                      span.glyphicon.glyphicon-star
                      span.glyphicon.glyphicon-star
                      span.glyphicon.glyphicon-star
                      span.glyphicon.glyphicon-star
                      span.glyphicon.glyphicon-star
                    span.reviewAuthor dJoin
                    small.reviewTimestamp 8 Noviembre 2016
                  .col-xs-12
                    p Excelente servicio y muy profesionales.
              .row
                .review
                  .well.well-sm.review-header
                    span.rating
                      span.glyphicon.glyphicon-star
                      span.glyphicon.glyphicon-star
                      span.glyphicon.glyphicon-star-empty
                      span.glyphicon.glyphicon-star-empty
                      span.glyphicon.glyphicon-star-empty
                    span.reviewAutor dJoin
                    small.reviewTimestamp 8 Noviembre 2016
                  .col-xs-12
                    p No hay WiFi y no dan café, se demoran mucho.
    .col-xs-12.col-md-3
      p.lead Barbería Desvanecidos 316 está en OnBarbers porque es un sitio con gente profesional, cuenta con WiFi, café y juegos.
      p Si el sitio te ha gustado o no, deja un comentario y comparte con otros para que vivan tu experiencia en la barbería.


7. Configurando la página de notas, recordar que hay que editar el
app_server/controllers/lugares.js y cambiar la vista:

module.exports.addReview = function(req, res){
res.render('form-info-lugar', { title: 'Agregar Nota' });
};

8. Crear el archivo de la vista c en /views/form-info-lugar.jade
$ touch form-info-lugar.jade

9. agregar el siguiente código del form
extends layout

block content
  .row.page-header
    .col-ls-12
      h1 Comentarios Schorem Barber Shop
  .row
    .col-xs-12.col-md-6
      form.form-horizontal(action="/lugar",method="get" role="form")
        .form-group
          label.col-xs-10.col-sm-2.control-label(for="name") Nombre
          .col-xs-12.col-sm-10
            input#name.form-control(name="name")
        .form-group
          label.col-x-10.col-sm-2.control-label(for="rating") Calificación
          .col-xs-12.col-sm-2
            select#rating.form-control.input-sm(name="rating")
              option 5
              option 4
              option 3
              option 2
              option 1
        .form-group
          label.col-sm-2.control-label(for="review") Comentario
          .col-sm-10
            textarea#review.form-control(name="review", rows="5")
        button.btn.btn-default.pull-right Enviar comentario
    .col-xs-12.col-md-4


10. Ahora lo mismo con la página de Acerca de, modificar el otros.js 
en la carpeta de /controllers y crear el archivo generica.jade con
el siguiente código:

